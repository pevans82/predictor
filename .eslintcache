[{"/Users/phil/rocSOLID/code/predictor/src/layout/Layout.js":"1","/Users/phil/rocSOLID/code/predictor/src/pages/Home.js":"2","/Users/phil/rocSOLID/code/predictor/src/App.js":"3","/Users/phil/rocSOLID/code/predictor/src/components/Fixture.js":"4","/Users/phil/rocSOLID/code/predictor/src/layout/Header.js":"5","/Users/phil/rocSOLID/code/predictor/src/components/TeamCard.js":"6","/Users/phil/rocSOLID/code/predictor/src/components/HowToCard.js":"7","/Users/phil/rocSOLID/code/predictor/src/pages/Profile.js":"8","/Users/phil/rocSOLID/code/predictor/src/layout/UserMenu.js":"9","/Users/phil/rocSOLID/code/predictor/src/pages/Play.js":"10","/Users/phil/rocSOLID/code/predictor/src/components/ScoreCard.js":"11","/Users/phil/rocSOLID/code/predictor/src/components/ScoreField.js":"12","/Users/phil/rocSOLID/code/predictor/src/aws-exports.js":"13","/Users/phil/rocSOLID/code/predictor/src/graphql/queries.js":"14","/Users/phil/rocSOLID/code/predictor/src/reportWebVitals.js":"15","/Users/phil/rocSOLID/code/predictor/src/pages/Leaderboard.js":"16","/Users/phil/rocSOLID/code/predictor/src/pages/Results.js":"17","/Users/phil/rocSOLID/code/predictor/src/index.js":"18","/Users/phil/rocSOLID/code/predictor/src/pages/HowTo.js":"19","/Users/phil/rocSOLID/code/predictor/src/hooks/useRound.js":"20","/Users/phil/rocSOLID/code/predictor/src/hooks/useUser.js":"21","/Users/phil/rocSOLID/code/predictor/src/pages/Pages.js":"22","/Users/phil/rocSOLID/code/predictor/src/pages/SignIn.js":"23","/Users/phil/rocSOLID/code/predictor/src/graphql/mutations.js":"24","/Users/phil/rocSOLID/code/predictor/src/components/StaticScoreField.js":"25","/Users/phil/rocSOLID/code/predictor/src/layout/Footer.js":"26","/Users/phil/rocSOLID/code/predictor/src/components/ProgressStepper.js":"27","/Users/phil/rocSOLID/code/predictor/src/components/PointsTable.js":"28","/Users/phil/rocSOLID/code/predictor/src/graphql/subscriptions.js":"29","/Users/phil/rocSOLID/code/predictor/src/Queries.js":"30","/Users/phil/rocSOLID/code/predictor/src/components/PointsBreakdown.js":"31","/Users/phil/rocSOLID/code/predictor/src/pages/TsAndCs.js":"32","/Users/phil/rocSOLID/code/predictor/src/pages/About.js":"33","/Users/phil/rocSOLID/code/predictor/src/pages/Privacy.js":"34","/Users/phil/rocSOLID/code/predictor/src/components/TitledContent.js":"35","/Users/phil/rocSOLID/code/predictor/src/pages/Score.js":"36","/Users/phil/rocSOLID/code/predictor/src/components/ConfirmDialog.js":"37","/Users/phil/rocSOLID/code/predictor/src/pages/Fixtures.js":"38","/Users/phil/rocSOLID/code/predictor/src/hooks/useAdminUser.js":"39","/Users/phil/rocSOLID/code/predictor/src/components/Authenticator.js":"40","/Users/phil/rocSOLID/code/predictor/src/components/Naughty.js":"41"},{"size":673,"mtime":1616149046387,"results":"42","hashOfConfig":"43"},{"size":7817,"mtime":1616011172473,"results":"44","hashOfConfig":"43"},{"size":843,"mtime":1616149032827,"results":"45","hashOfConfig":"43"},{"size":1936,"mtime":1615307130462,"results":"46","hashOfConfig":"43"},{"size":6008,"mtime":1615308182376,"results":"47","hashOfConfig":"43"},{"size":923,"mtime":1615203445526,"results":"48","hashOfConfig":"43"},{"size":1538,"mtime":1613982663972,"results":"49","hashOfConfig":"43"},{"size":2596,"mtime":1616153509735,"results":"50","hashOfConfig":"43"},{"size":2505,"mtime":1615223196174,"results":"51","hashOfConfig":"43"},{"size":6043,"mtime":1616151161737,"results":"52","hashOfConfig":"43"},{"size":1480,"mtime":1613218353003,"results":"53","hashOfConfig":"43"},{"size":1088,"mtime":1613218750834,"results":"54","hashOfConfig":"43"},{"size":752,"mtime":1616156569334,"results":"55","hashOfConfig":"43"},{"size":7390,"mtime":1614807391088,"results":"56","hashOfConfig":"43"},{"size":362,"mtime":1609498744062,"results":"57","hashOfConfig":"43"},{"size":7391,"mtime":1616151161730,"results":"58","hashOfConfig":"43"},{"size":9343,"mtime":1616151161723,"results":"59","hashOfConfig":"43"},{"size":599,"mtime":1609509408186,"results":"60","hashOfConfig":"43"},{"size":6682,"mtime":1614809168929,"results":"61","hashOfConfig":"43"},{"size":1963,"mtime":1616086443155,"results":"62","hashOfConfig":"43"},{"size":684,"mtime":1616149075030,"results":"63","hashOfConfig":"43"},{"size":2320,"mtime":1616012181868,"results":"64","hashOfConfig":"43"},{"size":669,"mtime":1616150842547,"results":"65","hashOfConfig":"43"},{"size":7840,"mtime":1614807391208,"results":"66","hashOfConfig":"43"},{"size":709,"mtime":1613218750899,"results":"67","hashOfConfig":"43"},{"size":2527,"mtime":1615553705507,"results":"68","hashOfConfig":"43"},{"size":1076,"mtime":1613597418516,"results":"69","hashOfConfig":"43"},{"size":2419,"mtime":1614187932281,"results":"70","hashOfConfig":"43"},{"size":5893,"mtime":1614807391309,"results":"71","hashOfConfig":"43"},{"size":1996,"mtime":1615310870530,"results":"72","hashOfConfig":"43"},{"size":2965,"mtime":1614595795915,"results":"73","hashOfConfig":"43"},{"size":4585,"mtime":1614809168937,"results":"74","hashOfConfig":"43"},{"size":1683,"mtime":1615495908382,"results":"75","hashOfConfig":"43"},{"size":2554,"mtime":1615990008260,"results":"76","hashOfConfig":"43"},{"size":1059,"mtime":1615216318729,"results":"77","hashOfConfig":"43"},{"size":8567,"mtime":1616245764466,"results":"78","hashOfConfig":"43"},{"size":1811,"mtime":1614859635684,"results":"79","hashOfConfig":"43"},{"size":13089,"mtime":1616245764461,"results":"80","hashOfConfig":"43"},{"size":542,"mtime":1614813112717,"results":"81","hashOfConfig":"43"},{"size":2942,"mtime":1616171054918,"results":"82","hashOfConfig":"43"},{"size":655,"mtime":1616245850074,"results":"83","hashOfConfig":"43"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},"14jjqs3",{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"86"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"86"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"86"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"86"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"86"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/phil/rocSOLID/code/predictor/src/layout/Layout.js",[],["172","173"],"/Users/phil/rocSOLID/code/predictor/src/pages/Home.js",[],"/Users/phil/rocSOLID/code/predictor/src/App.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/Fixture.js",[],"/Users/phil/rocSOLID/code/predictor/src/layout/Header.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/TeamCard.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/HowToCard.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/Profile.js",[],"/Users/phil/rocSOLID/code/predictor/src/layout/UserMenu.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/Play.js",["174"],"import React, {useEffect, useState} from 'react';\nimport {makeStyles, useTheme} from \"@material-ui/core/styles\";\nimport Fixture from \"../components/Fixture\";\nimport ScoreCard from \"../components/ScoreCard\";\nimport {useRound} from \"../hooks/useRound\";\nimport Box from '@material-ui/core/Box';\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport API from \"@aws-amplify/api\";\nimport {predictionsByRound} from \"../graphql/queries\";\nimport * as mutations from \"../graphql/mutations\";\nimport {useUser} from \"../hooks/useUser\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Authenticator from \"../components/Authenticator\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        maxWidth: 800,\n        margin: \"auto\",\n        marginTop: theme.spacing(5),\n        marginBottom: theme.spacing(5),\n    },\n    title: {\n        fontWeight: \"bolder\",\n        margin: \"auto\",\n        padding: theme.spacing(2),\n        maxWidth: 500,\n    },\n    noRound: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: 400,\n    },\n}));\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" direction=\"up\" {...props} />;\n}\n\nexport default function Play() {\n    const classes = useStyles();\n    const theme = useTheme();\n    const user = useUser();\n    const round = useRound();\n\n    const [predictionId, setPredictionId] = useState(0);\n    const [homeScore, setHomeScore] = useState(0);\n    const [awayScore, setAwayScore] = useState(0);\n\n    const [openSnackBar, setOpenSnackBar] = useState(false);\n\n    const [roundReady, setRoundReady] = useState();\n\n    useEffect(() => {\n        if (round) {\n            setRoundReady(true);\n        } else {\n            setRoundReady(false);\n        }\n    }, [round]);\n\n    useEffect(() => {\n        if (!user) {\n            setPredictionId(0);\n        }\n        fetchPrediction();\n    }, [user, round]);\n\n    async function fetchPrediction() {\n        if (user && round) {\n            const pred = await API.graphql({\n                query: predictionsByRound,\n                variables: {roundId: round.id},\n                authMode: 'AMAZON_COGNITO_USER_POOLS'\n            });\n            if (pred.data.predictionsByRound.items.length < 1) {\n                setPredictionId(0);\n                setHomeScore(0);\n                setAwayScore(0);\n            } else {\n                setPredictionId(pred.data.predictionsByRound.items[0].id);\n                setHomeScore(pred.data.predictionsByRound.items[0].homeScore);\n                setAwayScore(pred.data.predictionsByRound.items[0].awayScore);\n            }\n        }\n    }\n\n    const handleSubmit = (event) => {\n        savePrediction();\n        setOpenSnackBar(true);\n        event.preventDefault();\n    }\n\n    async function savePrediction() {\n        if (predictionId) {\n            await API.graphql({\n                query: mutations.updatePrediction,\n                variables: {input: {id: predictionId, homeScore: homeScore, awayScore: awayScore}},\n                authMode: 'AMAZON_COGNITO_USER_POOLS'\n            });\n        } else {\n            const pred = await API.graphql({\n                query: mutations.createPrediction,\n                variables: {input: {roundId: round.id, homeScore: homeScore, awayScore: awayScore}},\n                authMode: 'AMAZON_COGNITO_USER_POOLS'\n            });\n            setPredictionId(pred.data.createPrediction.id);\n        }\n    }\n\n    const handleHomeScoreChange = (event) => {\n        const value = event.target.value;\n        setHomeScore(!value ? \"0\" : value);\n    };\n\n    const handleAwayScoreChange = (event) => {\n        const value = event.target.value;\n        setAwayScore(!value ? \"0\" : value);\n    };\n\n    const handleSnackBarClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpenSnackBar(false);\n    };\n\n    return (\n        <Authenticator>\n            <Box className={classes.root}>\n                {roundReady && <div>\n                    {round.id === 0 ?\n                        <div className={classes.noRound}><Typography className={classes.title} variant={\"h2\"} color={\"primary\"}>NEXT ROUND COMING SOON</Typography></div>\n                        : <div>\n                            <Typography className={classes.title} variant={\"h2\"} color={\"primary\"}>Round {round.number}</Typography>\n                            {round.status === \"active\" &&\n                            <Typography style={{textAlign: \"left\", margin: theme.spacing(1)}} gutterBottom variant=\"h5\" color={\"primary\"}>Enter your\n                                prediction</Typography>}\n                            <Fixture round={round}/>\n                            <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n                                <ScoreCard isActive={round.status === \"active\"} id={\"play\"} homeScore={homeScore}\n                                           onHomeScoreChange={handleHomeScoreChange}\n                                           awayScore={awayScore} onAwayScoreChange={handleAwayScoreChange}/>\n                                {round.status === \"active\" &&\n                                <Button style={{marginTop: theme.spacing(5)}} fullWidth={true} variant=\"contained\" type={\"submit\"}\n                                        color=\"primary\">Save</Button>\n                                }\n                                <Snackbar open={openSnackBar} autoHideDuration={3000} onClose={handleSnackBarClose}>\n                                    <Alert onClose={handleSnackBarClose} severity=\"success\">\n                                        Prediction successfully saved!\n                                    </Alert>\n                                </Snackbar>\n                            </form>\n                        </div>}\n                </div>}\n            </Box>\n        </Authenticator>\n    );\n}","/Users/phil/rocSOLID/code/predictor/src/components/ScoreCard.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/ScoreField.js",[],"/Users/phil/rocSOLID/code/predictor/src/aws-exports.js",[],"/Users/phil/rocSOLID/code/predictor/src/graphql/queries.js",[],"/Users/phil/rocSOLID/code/predictor/src/reportWebVitals.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/Leaderboard.js",["175","176","177"],"import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {makeStyles, useTheme} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport {fetchCompleteRoundsQuery, fetchRoundLeaderBoardByPointsQuery, fetchSeasonLeaderBoardByPointsQuery} from \"../Queries\";\nimport API, {graphqlOperation} from \"@aws-amplify/api\";\nimport PointsTable from \"../components/PointsTable\";\nimport ProgressStepper from \"../components/ProgressStepper\";\nimport StaticScoreField from \"../components/StaticScoreField\";\nimport {useUser} from \"../hooks/useUser\";\nimport Authenticator from \"../components/Authenticator\";\n\nfunction TabPanel(props) {\n    const {children, value, index, ...other} = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`full-width-tabpanel-${index}`}\n            aria-labelledby={`full-width-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box p={3}>\n                    <Box>{children}</Box>\n                </Box>\n            )}\n        </div>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n    return {\n        id: `full-width-tab-${index}`,\n        'aria-controls': `full-width-tabpanel-${index}`,\n    };\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        maxWidth: 800,\n        margin: \"auto\",\n        marginTop: theme.spacing(5),\n        marginBottom: theme.spacing(5),\n    },\n    title: {\n        fontWeight: \"bolder\",\n        margin: \"auto\",\n        padding: theme.spacing(2),\n        maxWidth: 500,\n    },\n    tab: {\n        backgroundColor: theme.palette.background.paper,\n        maxWidth: 500,\n        margin: \"auto\",\n    },\n}));\n\nexport default function LeaderBoard() {\n    const classes = useStyles();\n    const theme = useTheme();\n    const user = useUser();\n\n    const [tabValue, setTabValue] = useState(0);\n\n    const [activeRound, setActiveRound] = useState(0);\n    const [maxRounds, setMaxRounds] = useState(0);\n    const [seasonPoints, setSeasonPoints] = useState(0);\n    const [roundPoints, setRoundPoints] = useState(0);\n\n    const [rounds, setRounds] = useState();\n    const [seasonRankings, setSeasonRankings] = useState([]);\n    const [roundRankings, setRoundRankings] = useState();\n\n    useEffect(() => {\n        setTabValue(1);\n        fetchSeasonLeaderboard();\n        fetchCompleteRounds();\n    }, [user]);\n\n    useEffect(() => {\n        if (rounds) {\n            fetchRoundLeaderboard(rounds.length - 1);\n        }\n    }, [rounds])\n\n    useEffect(() => {\n        fetchRoundLeaderboard(activeRound);\n    }, [activeRound])\n\n    async function fetchCompleteRounds() {\n        if (user) {\n            const result = await API.graphql(graphqlOperation(fetchCompleteRoundsQuery));\n            const rounds = result.data.roundByStatus.items;\n            if (rounds.length > 0) {\n                setRounds(rounds);\n                setMaxRounds(rounds.length);\n                setActiveRound(rounds.length - 1);\n            }\n        }\n    }\n\n    async function fetchSeasonLeaderboard() {\n        if (user) {\n            const result = await API.graphql(graphqlOperation(fetchSeasonLeaderBoardByPointsQuery));\n            if (result.data.seasonLeaderboardByPoints.items.length > 0) {\n                const rankings = buildRankings(result.data.seasonLeaderboardByPoints.items);\n                setSeasonRankings(rankings);\n                const points = rankings.filter(r => r.player === user.username).map(r => r.points);\n                setSeasonPoints(points.length > 0 ? points : 0);\n            }\n        }\n    }\n\n    async function fetchRoundLeaderboard(roundIndex) {\n        if (user && rounds) {\n            const result = await API.graphql(graphqlOperation(fetchRoundLeaderBoardByPointsQuery, {roundId: rounds[roundIndex].id}));\n            if (result.data.roundLeaderboardByPoints.items.length > 0) {\n                const rankings = buildRankings(result.data.roundLeaderboardByPoints.items);\n                setRoundRankings(rankings);\n                const points = rankings.filter(r => r.player === user.username).map(r => r.points);\n                setRoundPoints(points.length > 0 ? points : 0);\n            } else {\n                setRoundRankings([]);\n                setRoundPoints(0);\n            }\n        }\n    }\n\n    function buildRankings(items) {\n        let pts = -1;\n        return items.map((r, i) => {\n            let isSamePoints = true;\n            if (pts === -1 || pts > r.points) {\n                isSamePoints = false;\n            }\n            pts = r.points;\n\n            return {key: i, position: isSamePoints ? \"-\" : i + 1, player: r.username, points: r.points};\n        });\n    }\n\n    const handlePrevious = () => {\n        setActiveRound((prevActiveRound) => prevActiveRound - 1);\n    };\n\n    const handleNext = () => {\n        setActiveRound((prevActiveRound) => prevActiveRound + 1);\n    };\n\n    const handleChange = (event, newTabValue) => {\n        setTabValue(newTabValue);\n    };\n\n    return (\n        <Authenticator>\n            <Box className={classes.root}>\n                <div style={{marginBottom: theme.spacing(3)}}>\n                    <Typography className={classes.title} variant={\"h2\"} color={\"primary\"}>Leaderboards</Typography>\n                    <Typography className={classes.title} variant={\"h4\"} color={\"primary\"}>Points</Typography>\n                    <StaticScoreField value={tabValue === 1 ? seasonPoints : roundPoints}/>\n                </div>\n                <div className={classes.tab}>\n                    <AppBar position=\"static\" color=\"default\">\n                        <Tabs\n                            value={tabValue}\n                            onChange={handleChange}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            variant=\"fullWidth\"\n                            aria-label=\"leaderboards tab\"\n                        >\n                            <Tab label=\"Round\" {...a11yProps(0)} />\n                            <Tab label=\"Season\" {...a11yProps(1)} />\n                        </Tabs>\n                    </AppBar>\n                    <TabPanel value={tabValue} index={0} dir={theme.direction}>\n                        {maxRounds > 1 &&\n                        <ProgressStepper onHandleNext={handleNext} onHandlePrevious={handlePrevious} maxSteps={maxRounds} activeStep={activeRound}/>}\n                        {rounds &&\n                        <Typography className={classes.title} variant={\"h4\"} color={\"primary\"}>Round {rounds[activeRound].number}</Typography>}\n                        {roundRankings && user && <PointsTable rows={roundRankings} username={user.username}/>}\n                    </TabPanel>\n                    <TabPanel component={\"div\"} value={tabValue} index={1} dir={theme.direction}>\n                        {user && <PointsTable rows={seasonRankings} username={user.username}/>}\n                    </TabPanel>\n                </div>\n            </Box>\n        </Authenticator>\n    );\n}","/Users/phil/rocSOLID/code/predictor/src/pages/Results.js",["178","179","180","181","182"],"import React, {useEffect, useState} from 'react';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport {makeStyles, useTheme} from \"@material-ui/core/styles\";\nimport Fixture from \"../components/Fixture\";\nimport ScoreCard from \"../components/ScoreCard\";\nimport API, {graphqlOperation} from \"@aws-amplify/api\";\nimport {predictionsByRound} from \"../graphql/queries\";\nimport Paper from \"@material-ui/core/Paper\";\nimport StaticScoreField from \"../components/StaticScoreField\";\nimport {useUser} from \"../hooks/useUser\";\nimport Link from \"@material-ui/core/Link\";\nimport {onCreateResult, onUpdatePrediction, onUpdateResult} from \"../graphql/subscriptions\";\nimport ProgressStepper from \"../components/ProgressStepper\";\nimport {fetchResultsQuery} from \"../Queries\";\nimport PointsBreakdown from \"../components/PointsBreakdown\";\nimport Authenticator from \"../components/Authenticator\";\n\nexport const PlayRoute = \"/play/\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        maxWidth: 800,\n        margin: \"auto\",\n        marginTop: theme.spacing(5),\n        marginBottom: theme.spacing(5),\n    },\n    title: {\n        fontWeight: \"bolder\",\n        margin: \"auto\",\n        padding: theme.spacing(2),\n        maxWidth: 500,\n    },\n}));\n\nexport default function Results() {\n    const classes = useStyles();\n    const theme = useTheme();\n    const user = useUser();\n\n    const [results, setResults] = useState();\n\n    const [activeRound, setActiveRound] = useState();\n    const [maxRounds, setMaxRounds] = useState();\n\n    const noPrediction = {homeScore: \"-\", awayScore: \"-\", points: \"0\"};\n    const [prediction, setPrediction] = useState(noPrediction);\n\n    const [pointsBreakdown, setPointsBreakdown] = useState();\n\n    useEffect(() => {\n        fetchResults(true);\n    }, []);\n\n    useEffect(() => {\n        if (results) {\n            setActiveRound(results.length - 1);\n            fetchPrediction(results.length - 1);\n        }\n    }, [user]);\n\n    useEffect(() => {\n        if (results && activeRound !== undefined) {\n            fetchPrediction(activeRound);\n        }\n    }, [results, activeRound]);\n\n    useEffect(() => {\n        const updatedListener = assignUpdatedListener();\n        const createdListener = assignCreatedListener();\n\n        return function cleanup() {\n            updatedListener.unsubscribe();\n            createdListener.unsubscribe();\n        };\n    }, [results]);\n\n    useEffect(() => {\n        if (user) {\n            const predictionUpdatedListener = assignPredictionListener();\n\n            return function cleanup() {\n                predictionUpdatedListener.unsubscribe();\n            };\n        }\n    }, [prediction]);\n\n    function assignPredictionListener() {\n        return API.graphql(graphqlOperation(onUpdatePrediction, {owner: user.username})).subscribe({\n            next: (updated) => {\n                const updatedResult = updated.value.data.onUpdatePrediction;\n                if (updatedResult.id === prediction.id) {\n                    setPrediction(updated.value.data.onUpdatePrediction);\n                }\n            }\n        });\n    }\n\n    function assignUpdatedListener() {\n        return API.graphql(graphqlOperation(onUpdateResult)).subscribe({\n            next: (updated) => {\n                const updatedResult = updated.value.data.onUpdateResult;\n                setResults(\n                    results.map(result => {\n                        return result.id === updatedResult.id ? updatedResult : result;\n                    }));\n            }\n        });\n    }\n\n    function assignCreatedListener() {\n        return API.graphql(graphqlOperation(onCreateResult)).subscribe({\n            next: (created) => {\n                fetchResults(false);\n            }\n        });\n    }\n\n    async function fetchResults(resetActiveRound) {\n        const result = await API.graphql(graphqlOperation(fetchResultsQuery));\n\n        if (result.data.listResults.items.length > 0) {\n            setResults(result.data.listResults.items.sort((a, b) => a.round.number - b.round.number));\n            const roundsCount = result.data.listResults.items.length;\n            setMaxRounds(roundsCount);\n            if (resetActiveRound || activeRound === undefined) {\n                setActiveRound(roundsCount - 1);\n            }\n        } else {\n            setMaxRounds(0);\n        }\n    }\n\n    async function fetchPrediction(resultIndex) {\n        const pred = await API.graphql({\n            query: predictionsByRound,\n            variables: {roundId: results[resultIndex].round.id},\n            authMode: 'AMAZON_COGNITO_USER_POOLS'\n        });\n\n        if (pred.data.predictionsByRound.items.length < 1) {\n            setPrediction(noPrediction);\n            setPointsBreakdown(undefined);\n        } else {\n            setPrediction(pred.data.predictionsByRound.items[0]);\n\n            const predictionDiff = pred.data.predictionsByRound.items[0].homeScore - pred.data.predictionsByRound.items[0].awayScore;\n            const resultDiff = results[activeRound].homeScore - results[activeRound].awayScore;\n\n            const score = pred.data.predictionsByRound.items[0].homeScore === results[activeRound].homeScore\n            && pred.data.predictionsByRound.items[0].awayScore === results[activeRound].awayScore ? 5 : 0;\n            const result = ((resultDiff < 0 && predictionDiff < 0) || (resultDiff === 0 && predictionDiff === 0) || (resultDiff > 0 && predictionDiff > 0)) ? 5 : 0;\n\n            const diff = Math.abs(predictionDiff - resultDiff);\n            const diffPoints = Math.floor(Math.max(0, 10 - (diff / 2)));\n\n            setPointsBreakdown({score: score, result: result, difference: diff, diffPoints: diffPoints, total: score + result + diffPoints});\n        }\n    }\n\n    const handlePrevious = () => {\n        setActiveRound((prevActiveRound) => prevActiveRound - 1);\n        setPrediction(noPrediction);\n    };\n\n    const handleNext = () => {\n        setActiveRound((prevActiveRound) => prevActiveRound + 1);\n        setPrediction(noPrediction);\n    };\n\n    return (\n        <Authenticator>\n            <Box className={classes.root}>\n                {maxRounds === 0 && <div>\n                    <Typography className={classes.title} variant={\"h2\"} color={\"primary\"}>Results</Typography>\n                    <Typography className={classes.title} variant={\"h4\"} color={\"primary\"}>Hold fire eager beaver !</Typography>\n                    <Typography className={classes.title} variant={\"body1\"} color={\"primary\"}>We've not even played Round 1 yet! Don't forget to have\n                        a go and <Link href={PlayRoute} color=\"inherit\">enter your predictions</Link> before the game starts otherwise you'll score a\n                        big fat...</Typography>\n                    <StaticScoreField value={0}></StaticScoreField>\n                </div>\n                }\n                {results && activeRound !== undefined && <div style={{marginBottom: theme.spacing(3)}}>\n                    <Typography className={classes.title} variant={\"h2\"} color={\"primary\"}>Round {results[activeRound].round.number}</Typography>\n                    <Typography className={classes.title} variant={\"h4\"} color={\"primary\"}>Points Scored</Typography>\n                    <StaticScoreField id={\"pts\"} value={prediction.points}/>\n                </div>\n                }\n                {maxRounds > 1 && activeRound !== undefined && <ProgressStepper\n                    onHandleNext={handleNext} onHandlePrevious={handlePrevious} maxSteps={maxRounds} activeStep={activeRound}/>}\n                <Paper square elevation={0} className={classes.header}>\n                    {results && activeRound !== undefined &&\n                    <div>\n                        <Fixture round={results[activeRound].round}/>\n                        {results[activeRound].round.status === 'complete' ?\n                            <Typography className={classes.title} variant={\"h4\"} color={\"primary\"}>Result</Typography>\n                            :\n                            <div>\n                                <Typography className={classes.title} variant={\"body1\"} color={\"primary\"}>* Game still in play or confirming final\n                                    score</Typography>\n                                <Typography className={classes.title} variant={\"h4\"} color={\"primary\"}>Current Score</Typography>\n                            </div>\n                        }\n                        <ScoreCard id={\"results\"} homeScore={results[activeRound].homeScore} awayScore={results[activeRound].awayScore}/>\n                        <Typography className={classes.title} variant={\"h4\"} color={\"primary\"}>Prediction</Typography>\n                        <ScoreCard id={\"predictions\"} homeScore={prediction.homeScore} awayScore={prediction.awayScore}/>\n                        {pointsBreakdown && <PointsBreakdown scorePoints={pointsBreakdown.score} resultPoints={pointsBreakdown.result}\n                                                             difference={pointsBreakdown.difference} diffPoints={pointsBreakdown.diffPoints}\n                                                             total={pointsBreakdown.total}/>}\n                    </div>\n                    }\n                </Paper>\n            </Box>\n        </Authenticator>\n    );\n}","/Users/phil/rocSOLID/code/predictor/src/index.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/HowTo.js",[],"/Users/phil/rocSOLID/code/predictor/src/hooks/useRound.js",["183","184"],"import {useEffect, useState} from 'react';\nimport {API, graphqlOperation} from \"@aws-amplify/api\";\nimport {onUpdateRound} from \"../graphql/subscriptions\";\nimport {fetchRoundByStatusQuery} from \"../Queries\";\n\nexport function useRound() {\n    const [round, setRound] = useState();\n\n    useEffect(() => {\n        fetchCurrentRound();\n    }, []);\n\n    useEffect(() => {\n        const updatedListener = assignUpdatedListener();\n\n        return function cleanup() {\n            updatedListener.unsubscribe();\n        };\n    }, [round]);\n\n    async function fetchRound(status) {\n        const result = await API.graphql({\n            query: fetchRoundByStatusQuery,\n            variables: {status: status},\n            authMode: 'API_KEY'\n        });\n\n        if (result.data.roundByStatus.items.length > 0) {\n            return result.data.roundByStatus.items[0];\n        }\n    }\n\n    async function fetchCurrentRound() {\n        const activeRound = await fetchRound(\"active\")\n        if (activeRound) {\n            setRound(activeRound);\n        } else {\n            const closedRound = await fetchRound(\"closed\")\n            if (closedRound) {\n                setRound(closedRound);\n            } else {\n                setRound({id: 0});\n            }\n        }\n    }\n\n    function assignUpdatedListener() {\n        return API.graphql(graphqlOperation(onUpdateRound)).subscribe({\n            next: (updated) => {\n                const updatedRound = updated.value.data.onUpdateRound;\n\n                if (round.id === updatedRound.id) {\n                    if (updatedRound.status === \"complete\") {\n                        setRound({id: 0});\n                    } else {\n                        setRound(updatedRound);\n                    }\n                } else {\n                    if (updatedRound.status === \"active\") {\n                        setRound(updatedRound);\n                    }\n                }\n            }\n        });\n    }\n\n    return round;\n}","/Users/phil/rocSOLID/code/predictor/src/hooks/useUser.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/Pages.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/SignIn.js",["185"],"import React, {useEffect} from 'react';\nimport {useHistory} from \"react-router\";\nimport {AuthState, onAuthUIStateChange} from \"@aws-amplify/ui-components\";\nimport Authenticator from \"../components/Authenticator\";\n\nexport default function SignIn() {\n    const history = useHistory();\n    const [authState, setAuthState] = React.useState();\n\n    useEffect(() => {\n        onAuthUIStateChange((nextAuthState, authData) => {\n            setAuthState(nextAuthState);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (authState === AuthState.SignedIn) {\n            history.goBack();\n        }\n    }, [authState]);\n\n    return (\n            <Authenticator/>\n    );\n}","/Users/phil/rocSOLID/code/predictor/src/graphql/mutations.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/StaticScoreField.js",[],"/Users/phil/rocSOLID/code/predictor/src/layout/Footer.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/ProgressStepper.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/PointsTable.js",[],"/Users/phil/rocSOLID/code/predictor/src/graphql/subscriptions.js",[],"/Users/phil/rocSOLID/code/predictor/src/Queries.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/PointsBreakdown.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/TsAndCs.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/About.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/Privacy.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/TitledContent.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/Score.js",["186","187"],"/Users/phil/rocSOLID/code/predictor/src/components/ConfirmDialog.js",[],"/Users/phil/rocSOLID/code/predictor/src/pages/Fixtures.js",["188"],"/Users/phil/rocSOLID/code/predictor/src/hooks/useAdminUser.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/Authenticator.js",[],"/Users/phil/rocSOLID/code/predictor/src/components/Naughty.js",[],{"ruleId":"189","replacedBy":"190"},{"ruleId":"191","replacedBy":"192"},{"ruleId":"193","severity":1,"message":"194","line":69,"column":8,"nodeType":"195","endLine":69,"endColumn":21,"suggestions":"196"},{"ruleId":"193","severity":1,"message":"197","line":90,"column":8,"nodeType":"195","endLine":90,"endColumn":14,"suggestions":"198"},{"ruleId":"193","severity":1,"message":"199","line":96,"column":8,"nodeType":"195","endLine":96,"endColumn":16,"suggestions":"200"},{"ruleId":"193","severity":1,"message":"199","line":100,"column":8,"nodeType":"195","endLine":100,"endColumn":21,"suggestions":"201"},{"ruleId":"193","severity":1,"message":"202","line":53,"column":8,"nodeType":"195","endLine":53,"endColumn":10,"suggestions":"203"},{"ruleId":"193","severity":1,"message":"204","line":60,"column":8,"nodeType":"195","endLine":60,"endColumn":14,"suggestions":"205"},{"ruleId":"193","severity":1,"message":"194","line":66,"column":8,"nodeType":"195","endLine":66,"endColumn":30,"suggestions":"206"},{"ruleId":"193","severity":1,"message":"207","line":76,"column":8,"nodeType":"195","endLine":76,"endColumn":17,"suggestions":"208"},{"ruleId":"193","severity":1,"message":"209","line":86,"column":8,"nodeType":"195","endLine":86,"endColumn":20,"suggestions":"210"},{"ruleId":"193","severity":1,"message":"211","line":11,"column":8,"nodeType":"195","endLine":11,"endColumn":10,"suggestions":"212"},{"ruleId":"193","severity":1,"message":"213","line":19,"column":8,"nodeType":"195","endLine":19,"endColumn":15,"suggestions":"214"},{"ruleId":"193","severity":1,"message":"215","line":20,"column":8,"nodeType":"195","endLine":20,"endColumn":19,"suggestions":"216"},{"ruleId":"193","severity":1,"message":"217","line":69,"column":8,"nodeType":"195","endLine":69,"endColumn":15,"suggestions":"218"},{"ruleId":"193","severity":1,"message":"213","line":77,"column":8,"nodeType":"195","endLine":77,"endColumn":16,"suggestions":"219"},{"ruleId":"193","severity":1,"message":"220","line":96,"column":8,"nodeType":"195","endLine":96,"endColumn":18,"suggestions":"221"},"no-native-reassign",["222"],"no-negated-in-lhs",["223"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchPrediction'. Either include it or remove the dependency array.","ArrayExpression",["224"],"React Hook useEffect has missing dependencies: 'fetchCompleteRounds' and 'fetchSeasonLeaderboard'. Either include them or remove the dependency array.",["225"],"React Hook useEffect has a missing dependency: 'fetchRoundLeaderboard'. Either include it or remove the dependency array.",["226"],["227"],"React Hook useEffect has a missing dependency: 'fetchResults'. Either include it or remove the dependency array.",["228"],"React Hook useEffect has missing dependencies: 'fetchPrediction' and 'results'. Either include them or remove the dependency array.",["229"],["230"],"React Hook useEffect has missing dependencies: 'assignCreatedListener' and 'assignUpdatedListener'. Either include them or remove the dependency array.",["231"],"React Hook useEffect has missing dependencies: 'assignPredictionListener' and 'user'. Either include them or remove the dependency array.",["232"],"React Hook useEffect has a missing dependency: 'fetchCurrentRound'. Either include it or remove the dependency array.",["233"],"React Hook useEffect has a missing dependency: 'assignUpdatedListener'. Either include it or remove the dependency array.",["234"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["235"],"React Hook useEffect has a missing dependency: 'fetchResult'. Either include it or remove the dependency array.",["236"],["237"],"React Hook useEffect has a missing dependency: 'assignListener'. Either include it or remove the dependency array.",["238"],"no-global-assign","no-unsafe-negation",{"desc":"239","fix":"240"},{"desc":"241","fix":"242"},{"desc":"243","fix":"244"},{"desc":"245","fix":"246"},{"desc":"247","fix":"248"},{"desc":"249","fix":"250"},{"desc":"251","fix":"252"},{"desc":"253","fix":"254"},{"desc":"255","fix":"256"},{"desc":"257","fix":"258"},{"desc":"259","fix":"260"},{"desc":"261","fix":"262"},{"desc":"263","fix":"264"},{"desc":"265","fix":"266"},{"desc":"267","fix":"268"},"Update the dependencies array to be: [user, round, fetchPrediction]",{"range":"269","text":"270"},"Update the dependencies array to be: [fetchCompleteRounds, fetchSeasonLeaderboard, user]",{"range":"271","text":"272"},"Update the dependencies array to be: [fetchRoundLeaderboard, rounds]",{"range":"273","text":"274"},"Update the dependencies array to be: [activeRound, fetchRoundLeaderboard]",{"range":"275","text":"276"},"Update the dependencies array to be: [fetchResults]",{"range":"277","text":"278"},"Update the dependencies array to be: [fetchPrediction, results, user]",{"range":"279","text":"280"},"Update the dependencies array to be: [results, activeRound, fetchPrediction]",{"range":"281","text":"282"},"Update the dependencies array to be: [assignCreatedListener, assignUpdatedListener, results]",{"range":"283","text":"284"},"Update the dependencies array to be: [assignPredictionListener, prediction, user]",{"range":"285","text":"286"},"Update the dependencies array to be: [fetchCurrentRound]",{"range":"287","text":"288"},"Update the dependencies array to be: [assignUpdatedListener, round]",{"range":"289","text":"290"},"Update the dependencies array to be: [authState, history]",{"range":"291","text":"292"},"Update the dependencies array to be: [fetchResult, round]",{"range":"293","text":"294"},"Update the dependencies array to be: [assignUpdatedListener, result]",{"range":"295","text":"296"},"Update the dependencies array to be: [assignListener, fixtures]",{"range":"297","text":"298"},[2003,2016],"[user, round, fetchPrediction]",[2720,2726],"[fetchCompleteRounds, fetchSeasonLeaderboard, user]",[2845,2853],"[fetchRoundLeaderboard, rounds]",[2929,2942],"[activeRound, fetchRoundLeaderboard]",[1823,1825],"[fetchResults]",[1988,1994],"[fetchPrediction, results, user]",[2131,2153],"[results, activeRound, fetchPrediction]",[2434,2443],"[assignCreatedListener, assignUpdatedListener, results]",[2693,2705],"[assignPredictionListener, prediction, user]",[338,340],"[fetchCurrentRound]",[521,528],"[assignUpdatedListener, round]",[604,615],"[authState, history]",[2145,2152],"[fetchResult, round]",[2333,2341],"[assignUpdatedListener, result]",[3257,3267],"[assignListener, fixtures]"]